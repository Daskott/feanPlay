var app=angular.module("app",["ngRoute"]);angular.module("app").controller("ApplicationCtrl",["$scope",function(o){o.$on("login",function(e,t){o.currentUser=t})}]);var app=angular.module("app");app.controller("LoginCtrl",["$scope","$location","UserService",function(o,e,t){o.login=function(n,r){t.login(n,r).then(function(t){console.log(t),o.$emit("login",t.data),e.path("/")})}}]);var app=angular.module("app");app.controller("PostsCtrl",["$scope","PostsService",function(o,e){e.fetch().success(function(e){o.posts=e}),o.addPost=function(){o.postBody&&e.create({body:o.postBody}).success(function(e){o.postBody=null})},o.$on("ws:new_post",function(e,t){console.log("GOT IT"),o.$apply(function(){o.posts.unshift(t)})})}]);var app=angular.module("app");app.service("PostsService",["$http",function(o){this.fetch=function(){return o.get("/api/posts")},this.create=function(e){return o.post("/api/posts",e)}}]);var app=angular.module("app");app.controller("RegisterCtrl",["$scope","$location","UserService",function(o,e,t){o.register=function(o,n){t.register(o,n).then(function(r){console.log(o,n),t.login(o,n),e.path("/login"),console.log(r)})}}]),angular.module("app").config(["$routeProvider",function(o){o.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]);var app=angular.module("app");app.service("UserService",["$http",function(o){var e=this;e.getUser=function(){return o.get("/api/users")},e.login=function(t,n){return o.post("/api/sessions",{username:t,password:n}).then(function(t){return e.token=t.data,o.defaults.headers.common["X-Auth"]=t.data,e.getUser()})},e.register=function(e,t){return o.post("/api/users",{username:e,password:t})}}]);var app=angular.module("app"),addr="10.151.97.62";app.run(["$rootScope","$timeout",function(o,e){!function t(){var n="ws://"+addr+":5000",r=new WebSocket(n);r.onclose=function(o){console.log("WebSocket closed. Reconnecting..."),e(t,1e4)},r.onmessage=function(e){var t=JSON.parse(e.data);console.log("recieve broadcast"),o.$broadcast("ws:"+t.topic,t.data)}}()}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uQ29udHJvbGxlci5qcyIsImxvZ2luQ29udHJvbGxlci5qcyIsInBvc3RDb250cm9sbGVyLmpzIiwicG9zdFNlcnZpY2UuanMiLCJyZWdpc3RlckNvbnRyb2xsZXIuanMiLCJyb3V0ZXMuanMiLCJ1c2VyU2VydmljZS5qcyIsIndlYnNvY2tldHNMaXN0ZW5lci5qcyJdLCJuYW1lcyI6WyJhcHAiLCJhbmd1bGFyIiwibW9kdWxlIiwiY29udHJvbGxlciIsIiRzY29wZSIsIiRvbiIsIl8iLCJ1c2VyIiwiY3VycmVudFVzZXIiLCIkbG9jYXRpb24iLCJVc2VyU2VydmljZSIsImxvZ2luIiwidXNlcm5hbWUiLCJwYXNzd29yZCIsInRoZW4iLCJyZXNwb25zZSIsImNvbnNvbGUiLCJsb2ciLCIkZW1pdCIsImRhdGEiLCJwYXRoIiwiUG9zdHNTZXJ2aWNlIiwiZmV0Y2giLCJzdWNjZXNzIiwicG9zdHMiLCJhZGRQb3N0IiwicG9zdEJvZHkiLCJjcmVhdGUiLCJib2R5IiwicG9zdCIsIiRhcHBseSIsInVuc2hpZnQiLCJzZXJ2aWNlIiwiJGh0dHAiLCJ0aGlzIiwiZ2V0IiwicmVnaXN0ZXIiLCJjb25maWciLCIkcm91dGVQcm92aWRlciIsIndoZW4iLCJ0ZW1wbGF0ZVVybCIsInN2YyIsImdldFVzZXIiLCJ2YWwiLCJ0b2tlbiIsImRlZmF1bHRzIiwiaGVhZGVycyIsImNvbW1vbiIsImFkZHIiLCJydW4iLCIkcm9vdFNjb3BlIiwiJHRpbWVvdXQiLCJjb25uZWN0IiwidXJsIiwiY29ubmVjdGlvbiIsIldlYlNvY2tldCIsIm9uY2xvc2UiLCJlIiwib25tZXNzYWdlIiwicGF5bG9hZCIsIkpTT04iLCJwYXJzZSIsIiRicm9hZGNhc3QiLCJ0b3BpYyJdLCJtYXBwaW5ncyI6IkFBQ0EsR0FBQUEsS0FBQUMsUUFBQUMsT0FBQSxPQUNBLFdDRkFELFNBQUFDLE9BQUEsT0FDQUMsV0FBQSxtQkFBQSxTQUFBLFNBQUFDLEdBQ0FBLEVBQUFDLElBQUEsUUFBQSxTQUFBQyxFQUFBQyxHQUNBSCxFQUFBSSxZQUFBRCxNQ0hBLElBQUFQLEtBQUFDLFFBQUFDLE9BQUEsTUFDQUYsS0FBQUcsV0FBQSxhQUFBLFNBQUEsWUFBQSxjQUFBLFNBQUFDLEVBQUFLLEVBQUFDLEdBQ0FOLEVBQUFPLE1BQUEsU0FBQUMsRUFBQUMsR0FDQUgsRUFBQUMsTUFBQUMsRUFBQUMsR0FDQUMsS0FBQSxTQUFBQyxHQUVBQyxRQUFBQyxJQUFBRixHQUNBWCxFQUFBYyxNQUFBLFFBQUFILEVBQUFJLE1BQ0FWLEVBQUFXLEtBQUEsVUNQQSxJQUFBcEIsS0FBQUMsUUFBQUMsT0FBQSxNQUlBRixLQUFBRyxXQUFBLGFBQUEsU0FBQSxlQUFBLFNBQUFDLEVBQUFpQixHQUdBQSxFQUFBQyxRQUFBQyxRQUFBLFNBQUFDLEdBQ0FwQixFQUFBb0IsTUFBQUEsSUFHQXBCLEVBQUFxQixRQUFBLFdBR0FyQixFQUFBc0IsVUFDQUwsRUFBQU0sUUFBQUMsS0FBQXhCLEVBQUFzQixXQUFBSCxRQUFBLFNBQUFDLEdBRUFwQixFQUFBc0IsU0FBQSxRQUtBdEIsRUFBQUMsSUFBQSxjQUFBLFNBQUFDLEVBQUF1QixHQUNBYixRQUFBQyxJQUFBLFVBQ0FiLEVBQUEwQixPQUFBLFdBQ0ExQixFQUFBb0IsTUFBQU8sUUFBQUYsU0MxQkEsSUFBQTdCLEtBQUFDLFFBQUFDLE9BQUEsTUFFQUYsS0FBQWdDLFFBQUEsZ0JBQUEsUUFBQSxTQUFBQyxHQUdBQyxLQUFBWixNQUFBLFdBQ0EsTUFBQVcsR0FBQUUsSUFBQSxlQUlBRCxLQUFBUCxPQUFBLFNBQUFFLEdBQ0EsTUFBQUksR0FBQUosS0FBQSxhQUFBQSxNQ1hBLElBQUE3QixLQUFBQyxRQUFBQyxPQUFBLE1BQ0FGLEtBQUFHLFdBQUEsZ0JBQUEsU0FBQSxZQUFBLGNBQUEsU0FBQUMsRUFBQUssRUFBQUMsR0FDQU4sRUFBQWdDLFNBQUEsU0FBQXhCLEVBQUFDLEdBQ0FILEVBQUEwQixTQUFBeEIsRUFBQUMsR0FDQUMsS0FBQSxTQUFBQyxHQUVBQyxRQUFBQyxJQUFBTCxFQUFBQyxHQUNBSCxFQUFBQyxNQUFBQyxFQUFBQyxHQUNBSixFQUFBVyxLQUFBLFVBQ0FKLFFBQUFDLElBQUFGLFNDVEFkLFFBQUFDLE9BQUEsT0FDQW1DLFFBQUEsaUJBQUEsU0FBQUMsR0FDQUEsRUFDQUMsS0FBQSxLQUFBcEMsV0FBQSxZQUFBcUMsWUFBQSxlQUNBRCxLQUFBLGFBQUFwQyxXQUFBLGVBQUFxQyxZQUFBLGtCQUNBRCxLQUFBLFVBQUFwQyxXQUFBLFlBQUFxQyxZQUFBLGlCQ0xBLElBQUF4QyxLQUFBQyxRQUFBQyxPQUFBLE1BQ0FGLEtBQUFnQyxRQUFBLGVBQUEsUUFBQSxTQUFBQyxHQUNBLEdBQUFRLEdBQUFQLElBRUFPLEdBQUFDLFFBQUEsV0FDQSxNQUFBVCxHQUFBRSxJQUFBLGVBR0FNLEVBQUE5QixNQUFBLFNBQUFDLEVBQUFDLEdBQ0EsTUFBQW9CLEdBQUFKLEtBQUEsaUJBQUFqQixTQUFBQSxFQUFBQyxTQUFBQSxJQUNBQyxLQUFBLFNBQUE2QixHQUdBLE1BRkFGLEdBQUFHLE1BQUFELEVBQUF4QixLQUNBYyxFQUFBWSxTQUFBQyxRQUFBQyxPQUFBLFVBQUFKLEVBQUF4QixLQUNBc0IsRUFBQUMsYUFJQUQsRUFBQUwsU0FBQSxTQUFBeEIsRUFBQUMsR0FDQSxNQUFBb0IsR0FBQUosS0FBQSxjQUFBakIsU0FBQUEsRUFBQUMsU0FBQUEsT0NsQkEsSUFBQWIsS0FBQUMsUUFBQUMsT0FBQSxPQUNBOEMsS0FBQSxjQUNBaEQsS0FBQWlELEtBQUEsYUFBQSxXQUFBLFNBQUFDLEVBQUFDLElBQ0EsUUFBQUMsS0FDQSxHQUFBQyxHQUFBLFFBQUFMLEtBQUEsUUFDQU0sRUFBQSxHQUFBQyxXQUFBRixFQUNBQyxHQUFBRSxRQUFBLFNBQUFDLEdBQ0F6QyxRQUFBQyxJQUFBLHFDQUNBa0MsRUFBQUMsRUFBQSxNQUVBRSxFQUFBSSxVQUFBLFNBQUFELEdBQ0EsR0FBQUUsR0FBQUMsS0FBQUMsTUFBQUosRUFBQXRDLEtBQ0FILFNBQUFDLElBQUEscUJBQ0FpQyxFQUFBWSxXQUFBLE1BQUFILEVBQUFJLE1BQUFKLEVBQUF4QyIsImZpbGUiOiJhcHAuanMiLCJzb3VyY2VzQ29udGVudCI6WyIvL2p1c3QgZGVmaW5lIG1vZHVsZSAmIGl0cyBkZXBlbmRlbmNpZXNcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJywgW1xuICAnbmdSb3V0ZSdcbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uIChfLCB1c2VyKSB7XG4gICAgICRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG4gICB9KTtcbiB9KTtcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XG5hcHAuY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBVc2VyU2VydmljZSkge1xuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgVXNlclNlcnZpY2UubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgLy9lbWl0IHNpZ25hbCB0aGF0IHVzZXIgaGFzIGxvZ2dlZCBpblxuICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICB9KTtcbiAgfVxufSk7XG4iLCJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XG5cbi8vZGVwZW5kZW5jeSBpbmplY3QgJ1Bvc3RzU2VydmljZScgJiAnJHNjb3BlJ1xuLy9iYXNpY2FsbHksICckc2NvcGUnIGlzIGxpa2UgJ3RoaXMnXG5hcHAuY29udHJvbGxlcignUG9zdHNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgUG9zdHNTZXJ2aWNlKSB7XG5cbiAgLy9nZXQgcG9zdHNcbiAgUG9zdHNTZXJ2aWNlLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbiAocG9zdHMpIHtcbiAgICAkc2NvcGUucG9zdHMgPSBwb3N0cztcbiAgfSk7XG5cbiAgJHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL3B1c2ggaXRlbSB0byBkYiAmIHRvIHRvcCBvZiBhcnJheSggaWYgaW5zZXJ0IHN1Y2Nlc2Z1bClcbiAgICBpZigkc2NvcGUucG9zdEJvZHkpeyAvL2dldCBjdXJyIHVzZXIgbmFtZVxuICAgICAgUG9zdHNTZXJ2aWNlLmNyZWF0ZSh7Ym9keTogJHNjb3BlLnBvc3RCb2R5IH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7XG4gICAgICAgIC8vJHNjb3BlLnBvc3RzLnVuc2hpZnQoIHsgdXNlcm5hbWU6ICRzY29wZS5jdXJyZW50VXNlci51c2VybmFtZSwgYm9keTogJHNjb3BlLnBvc3RCb2R5IH0pO1xuICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsOyAvL2NsZWFyIGlucHV0IGZpZWxkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUuJG9uKCd3czpuZXdfcG9zdCcsIGZ1bmN0aW9uIChfLCBwb3N0KSB7IFxuICAgICAgY29uc29sZS5sb2coJ0dPVCBJVCcpO1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7IFxuICAgICAgICAkc2NvcGUucG9zdHMudW5zaGlmdChwb3N0KSBcbiAgICAgIH0pOyBcbiAgfSk7XG5cbn0pO1xuIiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcblxuYXBwLnNlcnZpY2UoJ1Bvc3RzU2VydmljZScsIGZ1bmN0aW9uKCRodHRwKXtcblxuICAvL2dldCBwb3N0c1xuICB0aGlzLmZldGNoID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJyk7XG4gIH1cblxuICAvL2NyZWF0ZSBwb3N0c1xuICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvc3Qpe1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdCk7XG4gIH1cblxufSk7XG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBVc2VyU2VydmljZSkge1xyXG4gICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgIFVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHVzZXJuYW1lLCBwYXNzd29yZClcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2codXNlcm5hbWUsIHBhc3N3b3JkKTtcclxuICAgICAgVXNlclNlcnZpY2UubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTsgLy9zZXQgdXNlciBjcmVkZW50aWFsc1xyXG4gICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7IC8vcmVkaXJlY3QgdG8gbG9naSBwYWdlXHJcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICRyb3V0ZVByb3ZpZGVyXG4gIC53aGVuKCcvJywgeyBjb250cm9sbGVyOiAnUG9zdHNDdHJsJywgdGVtcGxhdGVVcmw6ICdwb3N0cy5odG1sJyB9KVxuICAud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5odG1sJyB9KVxuICAud2hlbignL2xvZ2luJywgeyBjb250cm9sbGVyOiAnTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJyB9KVxufSk7XG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xuYXBwLnNlcnZpY2UoJ1VzZXJTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gIHZhciBzdmMgPSB0aGlzO1xuXG4gIHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKTsvLywgeyBoZWFkZXJzOiB7ICdYLUF1dGgnOiB0aGlzLnRva2VuIH0gfSk7XG4gIH1cblxuICBzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7IHVzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgc3ZjLnRva2VuID0gdmFsLmRhdGE7XG4gICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB2YWwuZGF0YTsgLy9pbmNsdWRlIGhlYWRlciBnbG9iYWxseSwgc28gdSBkb24ndCBoYXZlIHRvIGRvIGl0IG9uIGV2ZXJ5IHJlcXVlc3RcbiAgICAgIHJldHVybiBzdmMuZ2V0VXNlcigpO1xuICAgIH0pO1xuICB9XG5cbiAgc3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgeyB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZCB9KTtcbiAgfVxuXG4gIC8vVE9ETzogY2xlYXIgY3JlZGVudGlhbHNcblxufSk7XG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG52YXIgYWRkciA9ICcxMC4xNTEuOTcuNjInOy8vICdsb2NhbGhvc3QnXHJcbmFwcC5ydW4oZnVuY3Rpb24gKCRyb290U2NvcGUsICR0aW1lb3V0KSB7XHJcblx0KGZ1bmN0aW9uIGNvbm5lY3QoKSB7XHJcblx0XHR2YXIgdXJsID0gJ3dzOi8vJythZGRyKyc6NTAwMCc7XHJcblx0XHR2YXIgY29ubmVjdGlvbiA9IG5ldyBXZWJTb2NrZXQodXJsKTtcclxuXHRcdGNvbm5lY3Rpb24ub25jbG9zZSA9IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdXZWJTb2NrZXQgY2xvc2VkLiBSZWNvbm5lY3RpbmcuLi4nKTtcclxuXHRcdFx0JHRpbWVvdXQoY29ubmVjdCwgMTAqMTAwMCk7XHJcblx0XHR9XHJcblx0XHRjb25uZWN0aW9uLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcblx0XHRcdHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZShlLmRhdGEpO1xyXG5cdFx0XHRjb25zb2xlLmxvZygncmVjaWV2ZSBicm9hZGNhc3QnKVxyXG5cdFx0XHQkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3dzOicgKyBwYXlsb2FkLnRvcGljLCBwYXlsb2FkLmRhdGEpO1xyXG5cdFx0fVxyXG5cdH0pKCk7XHJcbn0pO1xyXG5cclxuXHJcbi8vIC5zZXJ2aWNlKCdXZWJTb2NrZXRTdmMnLCBmdW5jdGlvbiAoJHJvb3RTY29wZSkge1xyXG4vLyBcdGZ1bmN0aW9uIHdlYnNvY2tldEhvc3QoKSB7XHJcbi8vIFx0XHRpZiAoJHdpbmRvdy5sb2NhdGlvbi5wcm90IG9jb2wgPT09IFwiaHR0cHM6XCIpIHtcclxuLy8gXHRcdFx0cmV0dXJuIFwid3NzOi8vXCIgKyB3aW5kb3cubG9jYXRpb24uaG9zdFxyXG4vLyBcdFx0fSBlbHNlIHtcclxuLy8gXHRcdFx0cmV0dXJuIFwid3M6Ly9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0XHJcbi8vIFx0XHR9XHJcbi8vIFx0fVxyXG4vLyBcdHZhciBjb25uZWN0aW9uIHRoaXMuY29ubmVjdCA9IGZ1bmN0aW9uICgpIHtcclxuLy8gXHRcdGNvbm5lY3Rpb24gPSBuZXcgV2ViU29ja2V0KHdlYnNvY2tldEhvc3QoKSkgY29ubmVjdGlvbi5vbm1lc3NhZ2UgPSBmdW5jdGlvbiAoZSkge1xyXG4vLyBcdFx0XHR2YXIgcGF5bG9hZCA9IEpTT04ucGFyc2UoZS5kYXRhKSAkcm9vdFNjb3BlLiRicm9hZGNhc3QoJ3dzOicgKyBwYXlsb2FkLnRvcGljLCBwYXlsb2FkLmRhdGEpXHJcbi8vIFx0XHR9XHJcbi8vIFx0fVxyXG4vLyBcdHRoaXMuc2VuZCA9IGZ1bmN0aW9uICh0b3BpYywgZGF0YSkge1xyXG4vLyBcdFx0dmFyIGpzb24gPSBKU09OLnN0cmluZ2lmeSh7dG9waWM6IHRvcGljLCBkYXRhOiBkYXRhXHJcbi8vIFx0XHR9KVxyXG4vLyBcdFx0Y29ubmVjdGlvbi5zZW5kKGpzb24pXHJcbi8vIFx0fVxyXG4vLyB9KS5ydW4oZnVuY3Rpb24gKFdlYlNvY2tldFN2Yykge1xyXG4vLyBcdFdlYlNvY2tldFN2Yy5jb25uZWN0KClcclxuLy8gfSlcclxuIl0sInNvdXJjZVJvb3QiOiIvc291cmNlLyJ9
