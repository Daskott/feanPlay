var app=angular.module("app",["ngRoute","ngMaterial"]);angular.module("app").controller("ApplicationCtrl",["$scope",function(e){e.$on("login",function(o,t){e.currentUser=t})}]);var app=angular.module("app");app.controller("LoginCtrl",["$scope","$location","UserService",function(e,o,t){e.login=function(n,r){t.login(n,r).then(function(t){console.log(t),e.$emit("login",t.data),o.path("/")})}}]);var app=angular.module("app");app.controller("PostsCtrl",["$scope","PostsService",function(e,o){o.fetch().success(function(o){e.posts=o}),e.addPost=function(){e.postBody&&o.create({body:e.postBody}).success(function(o){e.postBody=null})},e.$on("ws:new_post",function(o,t){console.log("GOT IT"),e.$apply(function(){e.posts.unshift(t)})})}]);var app=angular.module("app");app.service("PostsService",["$http",function(e){this.fetch=function(){return e.get("/api/posts")},this.create=function(o){return e.post("/api/posts",o)}}]);var app=angular.module("app");app.controller("RegisterCtrl",["$scope","$location","UserService",function(e,o,t){e.register=function(e,n){t.register(e,n).then(function(r){console.log(e,n),t.login(e,n),o.path("/login"),console.log(r)})}}]),angular.module("app").config(["$routeProvider",function(e){e.when("/",{controller:"PostsCtrl",templateUrl:"posts.html"}).when("/register",{controller:"RegisterCtrl",templateUrl:"register.html"}).when("/login",{controller:"LoginCtrl",templateUrl:"login.html"})}]),angular.module("app").config(["$mdThemingProvider",function(e){e.theme("default").primaryPalette("deep-purple").accentPalette("red")}]);var app=angular.module("app");app.service("UserService",["$http",function(e){var o=this;o.getUser=function(){return e.get("/api/users")},o.login=function(t,n){return e.post("/api/sessions",{username:t,password:n}).then(function(t){return o.token=t.data,e.defaults.headers.common["X-Auth"]=t.data,o.getUser()})},o.register=function(o,t){return e.post("/api/users",{username:o,password:t})}}]);var app=angular.module("app"),addr="localhost";app.run(["$rootScope","$timeout",function(e,o){!function t(){var n="ws://"+addr+":5000",r=new WebSocket(n);r.onclose=function(e){console.log("WebSocket closed. Reconnecting..."),o(t,1e4)},r.onmessage=function(o){var t=JSON.parse(o.data);console.log("recieve broadcast"),e.$broadcast("ws:"+t.topic,t.data)}}()}]);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1vZHVsZS5qcyIsImFwcGxpY2F0aW9uQ29udHJvbGxlci5qcyIsImxvZ2luQ29udHJvbGxlci5qcyIsInBvc3RDb250cm9sbGVyLmpzIiwicG9zdFNlcnZpY2UuanMiLCJyZWdpc3RlckNvbnRyb2xsZXIuanMiLCJyb3V0ZXMuanMiLCJ0aGVtZS5qcyIsInVzZXJTZXJ2aWNlLmpzIiwid2Vic29ja2V0c0xpc3RlbmVyLmpzIl0sIm5hbWVzIjpbImFwcCIsImFuZ3VsYXIiLCJtb2R1bGUiLCJjb250cm9sbGVyIiwiJHNjb3BlIiwiJG9uIiwiXyIsInVzZXIiLCJjdXJyZW50VXNlciIsIiRsb2NhdGlvbiIsIlVzZXJTZXJ2aWNlIiwibG9naW4iLCJ1c2VybmFtZSIsInBhc3N3b3JkIiwidGhlbiIsInJlc3BvbnNlIiwiY29uc29sZSIsImxvZyIsIiRlbWl0IiwiZGF0YSIsInBhdGgiLCJQb3N0c1NlcnZpY2UiLCJmZXRjaCIsInN1Y2Nlc3MiLCJwb3N0cyIsImFkZFBvc3QiLCJwb3N0Qm9keSIsImNyZWF0ZSIsImJvZHkiLCJwb3N0IiwiJGFwcGx5IiwidW5zaGlmdCIsInNlcnZpY2UiLCIkaHR0cCIsInRoaXMiLCJnZXQiLCJyZWdpc3RlciIsImNvbmZpZyIsIiRyb3V0ZVByb3ZpZGVyIiwid2hlbiIsInRlbXBsYXRlVXJsIiwiJG1kVGhlbWluZ1Byb3ZpZGVyIiwidGhlbWUiLCJwcmltYXJ5UGFsZXR0ZSIsImFjY2VudFBhbGV0dGUiLCJzdmMiLCJnZXRVc2VyIiwidmFsIiwidG9rZW4iLCJkZWZhdWx0cyIsImhlYWRlcnMiLCJjb21tb24iLCJhZGRyIiwicnVuIiwiJHJvb3RTY29wZSIsIiR0aW1lb3V0IiwiY29ubmVjdCIsInVybCIsImNvbm5lY3Rpb24iLCJXZWJTb2NrZXQiLCJvbmNsb3NlIiwiZSIsIm9ubWVzc2FnZSIsInBheWxvYWQiLCJKU09OIiwicGFyc2UiLCIkYnJvYWRjYXN0IiwidG9waWMiXSwibWFwcGluZ3MiOiJBQUNBLEdBQUFBLEtB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QUEsR0FBQUMsV0FBQUYsRUFDQUMsR0FBQUUsUUFBQSxTQUFBQyxHQUNBN0MsUUFBQUMsSUFBQSxxQ0FDQXNDLEVBQUFDLEVBQUEsTUFFQUUsRUFBQUksVUFBQSxTQUFBRCxHQUNBLEdBQUFFLEdBQUFDLEtBQUFDLE1BQUFKLEVBQUExQyxLQUNBSCxTQUFBQyxJQUFBLHFCQUNBcUMsRUFBQVksV0FBQSxNQUFBSCxFQUFBSSxNQUFBSixFQUFBNUMiLCJmaWxlIjoiYXBwLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy9qdXN0IGRlZmluZSBtb2R1bGUgJiBpdHMgZGVwZW5kZW5jaWVzXG52YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcsIFtcbiAgJ25nUm91dGUnLFxuICAnbmdNYXRlcmlhbCdcbl0pO1xuIiwiYW5ndWxhci5tb2R1bGUoJ2FwcCcpXG4uY29udHJvbGxlcignQXBwbGljYXRpb25DdHJsJywgZnVuY3Rpb24gKCRzY29wZSkge1xuICAkc2NvcGUuJG9uKCdsb2dpbicsIGZ1bmN0aW9uIChfLCB1c2VyKSB7XG4gICAgICRzY29wZS5jdXJyZW50VXNlciA9IHVzZXI7XG4gICB9KTtcbiB9KTtcbiIsInZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XG5hcHAuY29udHJvbGxlcignTG9naW5DdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBVc2VyU2VydmljZSkge1xuICAkc2NvcGUubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgVXNlclNlcnZpY2UubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKVxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xuICAgICAgLy9lbWl0IHNpZ25hbCB0aGF0IHVzZXIgaGFzIGxvZ2dlZCBpblxuICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpO1xuICAgICAgJHNjb3BlLiRlbWl0KCdsb2dpbicsIHJlc3BvbnNlLmRhdGEpO1xuICAgICAgJGxvY2F0aW9uLnBhdGgoJy8nKTtcbiAgICB9KTtcbiAgfVxufSk7XG4iLCJcbnZhciBhcHAgPSBhbmd1bGFyLm1vZHVsZSgnYXBwJyk7XG5cbi8vZGVwZW5kZW5jeSBpbmplY3QgJ1Bvc3RzU2VydmljZScgJiAnJHNjb3BlJ1xuLy9iYXNpY2FsbHksICckc2NvcGUnIGlzIGxpa2UgJ3RoaXMnXG5hcHAuY29udHJvbGxlcignUG9zdHNDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgUG9zdHNTZXJ2aWNlKSB7XG5cbiAgLy9nZXQgcG9zdHNcbiAgUG9zdHNTZXJ2aWNlLmZldGNoKCkuc3VjY2VzcyhmdW5jdGlvbiAocG9zdHMpIHtcbiAgICAkc2NvcGUucG9zdHMgPSBwb3N0cztcbiAgfSk7XG5cbiAgJHNjb3BlLmFkZFBvc3QgPSBmdW5jdGlvbiAoKSB7XG5cbiAgICAvL3B1c2ggaXRlbSB0byBkYiAmIHRvIHRvcCBvZiBhcnJheSggaWYgaW5zZXJ0IHN1Y2Nlc2Z1bClcbiAgICBpZigkc2NvcGUucG9zdEJvZHkpeyAvL2dldCBjdXJyIHVzZXIgbmFtZVxuICAgICAgUG9zdHNTZXJ2aWNlLmNyZWF0ZSh7Ym9keTogJHNjb3BlLnBvc3RCb2R5IH0pLnN1Y2Nlc3MoZnVuY3Rpb24gKHBvc3RzKSB7XG4gICAgICAgIC8vJHNjb3BlLnBvc3RzLnVuc2hpZnQoIHsgdXNlcm5hbWU6ICRzY29wZS5jdXJyZW50VXNlci51c2VybmFtZSwgYm9keTogJHNjb3BlLnBvc3RCb2R5IH0pO1xuICAgICAgICAkc2NvcGUucG9zdEJvZHkgPSBudWxsOyAvL2NsZWFyIGlucHV0IGZpZWxkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICAkc2NvcGUuJG9uKCd3czpuZXdfcG9zdCcsIGZ1bmN0aW9uIChfLCBwb3N0KSB7IFxuICAgICAgY29uc29sZS5sb2coJ0dPVCBJVCcpO1xuICAgICAgJHNjb3BlLiRhcHBseShmdW5jdGlvbiAoKSB7IFxuICAgICAgICAkc2NvcGUucG9zdHMudW5zaGlmdChwb3N0KSBcbiAgICAgIH0pOyBcbiAgfSk7XG5cbn0pO1xuIiwidmFyIGFwcCA9IGFuZ3VsYXIubW9kdWxlKCdhcHAnKTtcblxuYXBwLnNlcnZpY2UoJ1Bvc3RzU2VydmljZScsIGZ1bmN0aW9uKCRodHRwKXtcblxuICAvL2dldCBwb3N0c1xuICB0aGlzLmZldGNoID0gZnVuY3Rpb24oKXtcbiAgICByZXR1cm4gJGh0dHAuZ2V0KCcvYXBpL3Bvc3RzJyk7XG4gIH1cblxuICAvL2NyZWF0ZSBwb3N0c1xuICB0aGlzLmNyZWF0ZSA9IGZ1bmN0aW9uKHBvc3Qpe1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3Bvc3RzJywgcG9zdCk7XG4gIH1cblxufSk7XG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG5hcHAuY29udHJvbGxlcignUmVnaXN0ZXJDdHJsJywgZnVuY3Rpb24gKCRzY29wZSwgJGxvY2F0aW9uLCBVc2VyU2VydmljZSkge1xyXG4gICRzY29wZS5yZWdpc3RlciA9IGZ1bmN0aW9uICh1c2VybmFtZSwgcGFzc3dvcmQpIHtcclxuICAgIFVzZXJTZXJ2aWNlLnJlZ2lzdGVyKHVzZXJuYW1lLCBwYXNzd29yZClcclxuICAgIC50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge1xyXG4gICAgICBcclxuICAgICAgY29uc29sZS5sb2codXNlcm5hbWUsIHBhc3N3b3JkKTtcclxuICAgICAgVXNlclNlcnZpY2UubG9naW4odXNlcm5hbWUsIHBhc3N3b3JkKTsgLy9zZXQgdXNlciBjcmVkZW50aWFsc1xyXG4gICAgICAkbG9jYXRpb24ucGF0aCgnL2xvZ2luJyk7IC8vcmVkaXJlY3QgdG8gbG9naSBwYWdlXHJcbiAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTtcclxuICAgICAgXHJcbiAgICB9KTtcclxuICB9XHJcbn0pO1xyXG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24gKCRyb3V0ZVByb3ZpZGVyKSB7XG4gICRyb3V0ZVByb3ZpZGVyXG4gIC53aGVuKCcvJywgeyBjb250cm9sbGVyOiAnUG9zdHNDdHJsJywgdGVtcGxhdGVVcmw6ICdwb3N0cy5odG1sJyB9KVxuICAud2hlbignL3JlZ2lzdGVyJywgeyBjb250cm9sbGVyOiAnUmVnaXN0ZXJDdHJsJywgdGVtcGxhdGVVcmw6ICdyZWdpc3Rlci5odG1sJyB9KVxuICAud2hlbignL2xvZ2luJywgeyBjb250cm9sbGVyOiAnTG9naW5DdHJsJywgdGVtcGxhdGVVcmw6ICdsb2dpbi5odG1sJyB9KVxufSk7XG4iLCJhbmd1bGFyLm1vZHVsZSgnYXBwJylcbi5jb25maWcoZnVuY3Rpb24oJG1kVGhlbWluZ1Byb3ZpZGVyKSB7XG4gICRtZFRoZW1pbmdQcm92aWRlci50aGVtZSgnZGVmYXVsdCcpXG4gICAgLnByaW1hcnlQYWxldHRlKCdkZWVwLXB1cnBsZScpXG4gICAgLmFjY2VudFBhbGV0dGUoJ3JlZCcpO1xufSk7XG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xuYXBwLnNlcnZpY2UoJ1VzZXJTZXJ2aWNlJywgZnVuY3Rpb24gKCRodHRwKSB7XG4gIHZhciBzdmMgPSB0aGlzO1xuXG4gIHN2Yy5nZXRVc2VyID0gZnVuY3Rpb24gKCkge1xuICAgIHJldHVybiAkaHR0cC5nZXQoJy9hcGkvdXNlcnMnKTsvLywgeyBoZWFkZXJzOiB7ICdYLUF1dGgnOiB0aGlzLnRva2VuIH0gfSk7XG4gIH1cblxuICBzdmMubG9naW4gPSBmdW5jdGlvbiAodXNlcm5hbWUsIHBhc3N3b3JkKSB7XG4gICAgcmV0dXJuICRodHRwLnBvc3QoJy9hcGkvc2Vzc2lvbnMnLCB7IHVzZXJuYW1lOiB1c2VybmFtZSwgcGFzc3dvcmQ6IHBhc3N3b3JkIH0pXG4gICAgLnRoZW4oZnVuY3Rpb24gKHZhbCkge1xuICAgICAgc3ZjLnRva2VuID0gdmFsLmRhdGE7XG4gICAgICAkaHR0cC5kZWZhdWx0cy5oZWFkZXJzLmNvbW1vblsnWC1BdXRoJ10gPSB2YWwuZGF0YTsgLy9pbmNsdWRlIGhlYWRlciBnbG9iYWxseSwgc28gdSBkb24ndCBoYXZlIHRvIGRvIGl0IG9uIGV2ZXJ5IHJlcXVlc3RcbiAgICAgIHJldHVybiBzdmMuZ2V0VXNlcigpO1xuICAgIH0pO1xuICB9XG5cbiAgc3ZjLnJlZ2lzdGVyID0gZnVuY3Rpb24gKHVzZXJuYW1lLCBwYXNzd29yZCkge1xuICAgIHJldHVybiAkaHR0cC5wb3N0KCcvYXBpL3VzZXJzJywgeyB1c2VybmFtZTogdXNlcm5hbWUsIHBhc3N3b3JkOiBwYXNzd29yZCB9KTtcbiAgfVxuXG4gIC8vVE9ETzogY2xlYXIgY3JlZGVudGlhbHNcblxufSk7XG4iLCJ2YXIgYXBwID0gYW5ndWxhci5tb2R1bGUoJ2FwcCcpO1xyXG52YXIgYWRkciA9ICdsb2NhbGhvc3QnOy8vJzEwLjE1MS45Ny42MidcclxuYXBwLnJ1bihmdW5jdGlvbiAoJHJvb3RTY29wZSwgJHRpbWVvdXQpIHtcclxuXHQoZnVuY3Rpb24gY29ubmVjdCgpIHtcclxuXHRcdHZhciB1cmwgPSAnd3M6Ly8nK2FkZHIrJzo1MDAwJztcclxuXHRcdHZhciBjb25uZWN0aW9uID0gbmV3IFdlYlNvY2tldCh1cmwpO1xyXG5cdFx0Y29ubmVjdGlvbi5vbmNsb3NlID0gZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0Y29uc29sZS5sb2coJ1dlYlNvY2tldCBjbG9zZWQuIFJlY29ubmVjdGluZy4uLicpO1xyXG5cdFx0XHQkdGltZW91dChjb25uZWN0LCAxMCoxMDAwKTtcclxuXHRcdH1cclxuXHRcdGNvbm5lY3Rpb24ub25tZXNzYWdlID0gZnVuY3Rpb24gKGUpIHtcclxuXHRcdFx0dmFyIHBheWxvYWQgPSBKU09OLnBhcnNlKGUuZGF0YSk7XHJcblx0XHRcdGNvbnNvbGUubG9nKCdyZWNpZXZlIGJyb2FkY2FzdCcpXHJcblx0XHRcdCRyb290U2NvcGUuJGJyb2FkY2FzdCgnd3M6JyArIHBheWxvYWQudG9waWMsIHBheWxvYWQuZGF0YSk7XHJcblx0XHR9XHJcblx0fSkoKTtcclxufSk7XHJcblxyXG5cclxuLy8gLnNlcnZpY2UoJ1dlYlNvY2tldFN2YycsIGZ1bmN0aW9uICgkcm9vdFNjb3BlKSB7XHJcbi8vIFx0ZnVuY3Rpb24gd2Vic29ja2V0SG9zdCgpIHtcclxuLy8gXHRcdGlmICgkd2luZG93LmxvY2F0aW9uLnByb3Qgb2NvbCA9PT0gXCJodHRwczpcIikge1xyXG4vLyBcdFx0XHRyZXR1cm4gXCJ3c3M6Ly9cIiArIHdpbmRvdy5sb2NhdGlvbi5ob3N0XHJcbi8vIFx0XHR9IGVsc2Uge1xyXG4vLyBcdFx0XHRyZXR1cm4gXCJ3czovL1wiICsgd2luZG93LmxvY2F0aW9uLmhvc3RcclxuLy8gXHRcdH1cclxuLy8gXHR9XHJcbi8vIFx0dmFyIGNvbm5lY3Rpb24gdGhpcy5jb25uZWN0ID0gZnVuY3Rpb24gKCkge1xyXG4vLyBcdFx0Y29ubmVjdGlvbiA9IG5ldyBXZWJTb2NrZXQod2Vic29ja2V0SG9zdCgpKSBjb25uZWN0aW9uLm9ubWVzc2FnZSA9IGZ1bmN0aW9uIChlKSB7XHJcbi8vIFx0XHRcdHZhciBwYXlsb2FkID0gSlNPTi5wYXJzZShlLmRhdGEpICRyb290U2NvcGUuJGJyb2FkY2FzdCgnd3M6JyArIHBheWxvYWQudG9waWMsIHBheWxvYWQuZGF0YSlcclxuLy8gXHRcdH1cclxuLy8gXHR9XHJcbi8vIFx0dGhpcy5zZW5kID0gZnVuY3Rpb24gKHRvcGljLCBkYXRhKSB7XHJcbi8vIFx0XHR2YXIganNvbiA9IEpTT04uc3RyaW5naWZ5KHt0b3BpYzogdG9waWMsIGRhdGE6IGRhdGFcclxuLy8gXHRcdH0pXHJcbi8vIFx0XHRjb25uZWN0aW9uLnNlbmQoanNvbilcclxuLy8gXHR9XHJcbi8vIH0pLnJ1bihmdW5jdGlvbiAoV2ViU29ja2V0U3ZjKSB7XHJcbi8vIFx0V2ViU29ja2V0U3ZjLmNvbm5lY3QoKVxyXG4vLyB9KVxyXG4iXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
