<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="description" content="It is whatever you want it to be">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <meta name="theme-color" content="#1abc9c">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Jabber</title>

    <!-- Style sheets and fonts -->
    <link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/css/bootstrap.min.css"
    integrity="sha384-y3tfxAZXuh4HwSYylfB+J125MxIs6mR5FOHamPBG064zB+AFeWH94NdvaCBm8qnd" crossorigin="anonymous">
    <link href='http://fonts.googleapis.com/css?family=Roboto+Slab' rel='stylesheet' type='text/css'>
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700,400italic">
    <link rel="stylesheet" href="/vendor.css">
    <link rel="stylesheet" href="/app.css">
  </head>

  <body ng-app='app' ng-controller='ApplicationCtrl'>

    <!-- Angular & Firebase -->
    <script src="https://www.gstatic.com/firebasejs/3.0.3/firebase.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-route.js"></script>
    <script src="https://cdn.firebase.com/libs/angularfire/2.0.1/angularfire.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-cookies.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.4/jquery.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.5.5/angular-sanitize.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ng-tags-input/3.1.1/ng-tags-input.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.css">

    <!-- App Scripts -->
    <script src='/app.js'></script>

    <!-- Navigation bar -->
    <nav class="navbar navbar-default" ng-cloak>
      <div class="container-fluid">
        <!-- Brand and toggle get grouped for better mobile display -->
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
            <span class="sr-only">Toggle navigation</span>
            <span ng-show="notificatonCount > 0" class="badge red">{{notificatonCount}}</span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/#/home" ng-click="setNav(0)"><span class="brand-name">O||O</span></a>
        </div>

        <!-- Collect the nav links, forms, and other content for toggling -->
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav">
            <li ng-class="{'active': isSelectedNav(0)}" ng-click="setNav(0)"><a href="/#/home">Home <span class="sr-only">(current)</span></a></li>
            <li ng-class="{'active': isSelectedNav(1)}" ng-click="setNav(1)" ng-show='currentUser'><a href="/#/connect">Connect</a></li>
          </ul>

        <!--  User dropdown -->
        <ul ng-if='currentUser' class="nav navbar-nav navbar-right">

          <!-- Notifications -->
          <li class="dropdown" id="bs-example-navbar-collapse-2">
            <a ng-click="seeNotification()" class="dropdown-toggle capitalize" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">
              <i class="fa fa-bell-o" aria-hidden="true">
                <span ng-show="notificatonCount > 0" class="badge red">{{notificatonCount}}</span>
              </i>
            </a>
            <ul class="dropdown-menu">

              <!-- Iterate through notifications ALSO SHOW ONLY NOTIFICATION NOT SEEN-->
              <a href="/#/notification" class="dropdown-item" href="" ng-repeat="notification in notifications">
                <p class="notification">
                  <span class="capitalize">{{notification.senderUsername}}</span>
                  {{notification.message}}<br>
                  <span class="post-time">{{notification.time}}</span>
                </p>
                <br>
                 <div class="dropdown-divider"></div>
              </a>
              <!-- placeholder -->
              <a ng-hide="notifications.length > 0" href="" class="dropdown-item">
                <span class="capitalize">No New Notification</span>
                <br>
                 <div class="dropdown-divider"></div>
              </a>

            </ul>
          </li>

          <li class="dropdown">
            <a class="dropdown-toggle capitalize" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">{{currentUser.username}}</a>
            <ul class="dropdown-menu">
              <!-- <a class="dropdown-item" href="/#/home">Settings</a> -->
              <div class="dropdown-divider"></div>
              <a ng-click="logout()" class="dropdown-item" href="#">Logout</a>
            </ul>
          </li>
        </ul>

        </div><!-- /.navbar-collapse -->
      </div><!-- /.container-fluid -->
    </nav>


    <!-- section that gets replaced by templates -->
    <div ng-view></div>

    <!--  bootstrap -->
    <script src="//cdnjs.cloudflare.com/ajax/libs/tether/1.3.1/js/tether.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.2/js/bootstrap.min.js"
    integrity="sha384-vZ2WRJMwsjRMW/8U7i6PWi6AlO1L79snBrmgiDpgIWJ82z8eA5lenwvxbMV1PAh7" crossorigin="anonymous"></script>

  </body>
</html>
